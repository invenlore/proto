# ADR-0001: No message broker

## Статус
Accepted (2026-01-17)

## Контекст
Нужны асинхронные процессы (рендер, индексирование, превью), но использование брокеров сообщений запрещено.

## Решение
Используем **outbox + polling workers + leases** на базе MongoDB.

## Альтернативы
- Kafka/Rabbit/SQS — запрещено.
- Cron-only reconciliation — хуже по задержке и контролю ретраев.

## Последствия
+ Упрощение ops
+ Горизонтальное масштабирование воркеров
- At-least-once доставка → нужна идемпотентность
